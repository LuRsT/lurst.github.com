<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <title>Lumbercoder : My ç vim command</title>

    <link
        rel="stylesheet"
        href="http://lumbercoder.com/theme/css/kraken.css"
        type="text/css"
    />
    <link
        rel="stylesheet"
        href="http://lumbercoder.com/theme/css/main.css"
        type="text/css"
    />
    <link
        href="http://lumbercoder.com/"
        type="application/atom+xml"
        rel="alternate"
        title="Lumbercoder ATOM Feed"
    />

    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>
    <article class="container">
        <h1>
            <a href="http://lumbercoder.com/">/home/Lumbercoder</a>
        </h1>

        <a class="btn btn-green" href="http://lumbercoder.com/">Home</a>
        <a class="btn btn-green" href="http://lumbercoder.com/archives.html">Posts</a>


            <a class="btn btn-green" href="http://lumbercoder.com/pages/projects.html">
                Projects
            </a>
            <a class="btn btn-green" href="http://lumbercoder.com/pages/talks.html">
                Talks
            </a>

        <hr />

    <header>
        <h2>
            <a href="http://lumbercoder.com/my-c-vim-command.html" id="page-title">
                My ç vim command
            </a>
        </h2>
            <time datetime="2012-10-06T00:00:00">
                Sat 06 October 2012
            </time>
    </header>
    <article>
        <p>When I saw this <a href="https://www.youtube.com/watch?v=iwVvqwLDsJo">video</a> about
iPython, I liked the idea of running commands within the editor we're using,
and showing the output inside it after running it. Since my editor of choice
is vim, I started working on something like that for me. First I've got this
one:</p>
<div class="highlight"><pre><span class="n">map</span> <span class="err">ç</span> <span class="o">:</span><span class="n">read</span> <span class="o">!</span>
</pre></div>


<p>I used ç since vim isn't using it for anything, what this does is simply upon
pressing ç in normal mode, waits for my input into :! and inserts the output in
the line bellow the one that I'm editing. But this wasn't what I wanted, I
wanted to run the line where my cursor was. For that, I did this:</p>
<div class="highlight"><pre><span class="kt">map</span> <span class="err">ç</span> <span class="p">:</span><span class="nx">cexpr</span> <span class="nx">system</span><span class="p">(</span><span class="nx">getline</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;</span><span class="p">:</span><span class="nx">cope</span><span class="o">&lt;</span><span class="nx">cr</span><span class="o">&gt;&lt;</span><span class="nx">cr</span><span class="o">&gt;</span>
</pre></div>


<p>This executes the line where the cursor is, opening a :cope window inside vim
with the output from the command, not really what I wanted but a lot closer.</p>
<p>I'm going to try and mix the both of them to copy the iPython behaviour.</p>
<p>Update: Since I don't have that letter in my keyboard layout anymore, I'm now
using upper case 'c' for this purpose.</p>
    </article>
    </article>

    <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-5550586-7']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>

    <script src="http://lumbercoder.com/theme/js/kraken.js"></script>
</body>
</html>